<ion-header>
  <ion-toolbar>
    <ion-title>
      All Appointments
    </ion-title>
    <ion-buttons slot="end">
      <button ion-button icon-only (click)="insertData()" style="width:35px;height:35px">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row>
    <!-- Change the displayed fetch appointments -->
    <ion-col size="4">
      <ion-button expand="block" [color]="selectedMonth == 'prev' ? 'primary' : 'secondary'" (click)="changeAppointmentFetchBy('prev')">Prev Month</ion-button>
    </ion-col>
    <ion-col size="4">
      <ion-button expand="block" [color]="selectedMonth == 'current' ? 'primary' : 'secondary'" (click)="changeAppointmentFetchBy('current')">Current Month</ion-button>
    </ion-col>
    <ion-col size="4">
      <ion-button expand="block" [color]="selectedMonth == 'next' ? 'primary' : 'secondary'" (click)="changeAppointmentFetchBy('next')">Next Month</ion-button>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="appointments.length === 0" justify-content-center align-items-center style="height: 100%; margin: 10px;">
    No Appointments found for selected month. Please add new appointment by clicking on "+" button.
  </ion-row>
    <ion-list>
      <ion-card *ngFor="let appointment of appointments; let i = index">
        <ion-row>
            <ion-col size="11" (click)="appointmentClicked(i)">
                <ion-icon slot="start" color="medium" name="calendar"></ion-icon>
                <ion-item>
                    <ion-label>{{appointment.rowid }} - {{ appointment.summary }}</ion-label>
                </ion-item>
                <ion-item>
                    <ion-label> {{ appointment.location }}</ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>{{appointment.startDate | date }} - {{ appointment.endDate | date }}</ion-label>
                </ion-item>
            </ion-col>
            <ion-col size="1" text-center>
                <ion-icon name="trash" (click)="deleteAppointment(i)"></ion-icon>
            </ion-col>
        </ion-row>
      </ion-card>
    </ion-list>
</ion-content>
